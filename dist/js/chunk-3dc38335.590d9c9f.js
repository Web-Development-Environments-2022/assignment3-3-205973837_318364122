(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3dc38335"],{37906:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("h1",{staticClass:"title"},[e._v("Search Page")]),a("div",[a("multiselect",{attrs:{options:e.diets,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Diet",label:"name","track-by":"name"},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.isOpen;return[e.value_diet.length&&!n?a("span",{staticClass:"multiselect__single"},[e._v(e._s(e.value_diet.length)+" diet options selected")]):e._e()]}}]),model:{value:e.value_diet,callback:function(t){e.value_diet=t},expression:"value_diet"}}),a("br")],1),a("div",[a("multiselect",{attrs:{options:e.cuisines,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Cuisine",label:"name","track-by":"name"},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.isOpen;return[e.value_cuisine.length&&!n?a("span",{staticClass:"multiselect__single"},[e._v(e._s(e.value_cuisine.length)+" cusine options selected")]):e._e()]}}]),model:{value:e.value_cuisine,callback:function(t){e.value_cuisine=t},expression:"value_cuisine"}}),a("br")],1),a("div",[a("multiselect",{attrs:{options:e.intolerances,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Intolerance",label:"name","track-by":"name"},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.isOpen;return[e.value_intolerance.length&&!n?a("span",{staticClass:"multiselect__single"},[e._v(e._s(e.value_intolerance.length)+" intolerance options selected")]):e._e()]}}]),model:{value:e.value_intolerance,callback:function(t){e.value_intolerance=t},expression:"value_intolerance"}}),a("br")],1),a("div",[a("multiselect",{attrs:{options:e.sorts,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Sort by",label:"name","track-by":"name"},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.values,r=t.isOpen;return[n.length&&!r?a("span",{staticClass:"multiselect__single"},[e._v(e._s(n)+" sort selected")]):e._e()]}}]),model:{value:e.value_sort,callback:function(t){e.value_sort=t},expression:"value_sort"}})],1),a("div",[a("label",{staticStyle:{"margin-right":"10px"},attrs:{id:"number_label",for:"demo-sb"}},[e._v("Number to retrieve ")]),a("b-form-spinbutton",{attrs:{id:"sb-inline",inline:"",min:"5",max:"15",step:"5"},model:{value:e.value_number,callback:function(t){e.value_number=t},expression:"value_number"}})],1),a("div",[a("b-form",{on:{submit:function(t){return t.preventDefault(),e.onSearch(t)}}},[a("b-form-group",{attrs:{id:"input-group-search_input","label-for":"search_input"}},[a("b-row",{staticClass:"my-1"},[a("b-col",{attrs:{sm:"0.5"}},[a("b-icon",{attrs:{icon:"search"}})],1),a("b-col",{attrs:{sm:"9"}},[a("b-form-input",{attrs:{id:"search_input",state:e.validateState("text"),placeholder:"Search",type:"text",autocomplete:"off"},model:{value:e.$v.form.text.$model,callback:function(t){e.$set(e.$v.form.text,"$model",t)},expression:"$v.form.text.$model"}}),e.$v.form.text.required?e._e():a("b-form-invalid-feedback",[e._v(" search query is required ")]),e.$v.form.text.alpha?e._e():a("b-form-invalid-feedback",[e._v(" should contain only characters ")])],1),a("b-col",{attrs:{sm:"0.5"}},[a("b-button",{attrs:{variant:"outline-info",type:"submit"}},[e._v("Search")])],1),a("b-col",{attrs:{sm:"0.5"}},[e.hasRecentSearch?a("b-button",{attrs:{variant:"outline-secondary",type:"button"},on:{click:e.showRecentSearch}},[e._v("Show Recent Search")]):e._e()],1)],1)],1)],1),e.form.submitError?a("b-alert",{staticClass:"mt-2",attrs:{variant:"warning",dismissible:"",show:""}},[e._v(" Search failed: "+e._s(e.form.submitError)+" ")]):e._e()],1),a("div",{attrs:{id:"searchDiv"}},[a("b-row",[a("RecipeSearch",{staticClass:"recipeSearch",attrs:{value_diet:e.value_diet,value_cuisine:e.value_cuisine,value_intolerance:e.value_intolerance,value_sort:e.value_sort,value_number:e.value_number,text:e.$v.form.text.$model}})],1)],1)])},r=[],i=(a("96cf"),a("1da1")),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.hasResults?a("b-container",[a("b-row",e._l(e.recipes,(function(e){return a("b-col",{key:e.id},[a("RecipePreview",{staticClass:"recipePreview",attrs:{recipe:e}})],1)})),1)],1):a("b-container",[a("p",[e._v(" no results found!")])])},l=[],c=(a("a15b"),a("d81d"),a("b0c0"),a("a9e3"),a("2909")),o=a("832a"),u={name:"RecipeSearch",components:{RecipePreview:o["a"]},data:function(){return{recipes:[],hasResults:!0}},props:{value_diet:{type:Array},value_cuisine:{type:Array},value_intolerance:{type:Array},value_sort:{type:Array},value_number:{type:Number},text:{type:String,required:!0}},computed:{final_value_sort:{get:function(){return this.value_sort.length>0?this.value_sort[0]:""}},final_value_cuisine:{get:function(){return this.value_cuisine.length>0?this.value_cuisine.map((function(e){return e.name})).join():""}},final_value_diet:{get:function(){return this.value_diet.length>0?this.value_diet.map((function(e){return e.name})).join():""}},final_value_intolerance:{get:function(){return this.value_intolerance.length>0?this.value_intolerance.map((function(e){return e.name})).join():""}}},methods:{updateRecipes:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get("https://bgnbrecipes.cs.bgu.ac.il/recipes/search/query/"+e.text+"/number/"+e.value_number+"?cuisine="+e.final_value_cuisine+"&diet="+e.final_value_diet+"&intolerances="+e.final_value_intolerance+"&sort="+e.final_value_sort);case 3:n=t.sent,r=n.data,e.recipes=[],(a=e.recipes).push.apply(a,Object(c["a"])(r)),r.length>0?e.hasResults=!0:e.hasResults=!1,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()}}},m=u,v=(a("b294"),a("2877")),p=Object(v["a"])(m,s,l,!1,null,"6d234cd9",null),_=p.exports,h=a("b5ae"),d={components:{RecipeSearch:_},data:function(){return{hasRecentSearch:!1,value_diet:[],value_cuisine:[],value_intolerance:[],value_sort:[],cuisines:[{name:"African"},{name:"American"},{name:"British"},{name:"Cajun"},{name:"Caribbean"},{name:"Chinese"},{name:"Eastern European"},{name:"European"},{name:"French"},{name:"German"},{name:"Greek"},{name:"Indian"},{name:"Irish"},{name:"Italian"},{name:"Japanese"},{name:"Jewish"},{name:"Korean"},{name:"Latin American"},{name:"Mediterranean"},{name:"Mexican"},{name:"Middle Eastern"},{name:"Nordic"},{name:"Southern"},{name:"Spanish"},{name:"Thai"},{name:"Vietnamese"}],value_number:5,form:{submitError:void 0,text:""},diets:[{name:"Gluten Free"},{name:"Ketogenic"},{name:"Vegetarian"},{name:"Lacto-Vegetarian"},{name:"Ovo-Vegetarian"},{name:"Vegan"},{name:"Pescetarian"},{name:"Paleo"},{name:"Primal"},{name:"Low FODMAP"},{name:"Whole30"}],intolerances:[{name:"Dairy"},{name:"Egg"},{name:"Gluten"},{name:"Grain"},{name:"Peanut"},{name:"Seafood"},{name:"Sesame"},{name:"Shellfish"},{name:"Soy"},{name:"Sulfite"},{name:"Tree Nut"},{name:"Wheat"}],sorts:[{name:"Popularity"},{name:"Time"}],validated:!1}},methods:{SearcgRecipes:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=sessionStorage.getItem("recentSearch"),n={text:e.$v.form.text.$model,value_diet:e.value_diet,value_cuisine:e.value_cuisine,value_intolerance:e.value_intolerance,value_sort:e.value_sort,value_number:e.value_number},null!=a&&sessionStorage.removeItem("recentSearch"),sessionStorage.setItem("recentSearch",JSON.stringify(n)),e.hasRecentSearch=!0,t.next=8,e.$children[6].updateRecipes();case 8:return t.abrupt("return",t.sent);case 11:t.prev=11,t.t0=t["catch"](0),e.form.submitError=err.response.data.message;case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},validateState:function(e){var t=this.$v.form[e],a=t.$dirty,n=t.$error;return a?!n:null},onSearch:function(){this.form.submitError=void 0,this.$v.form.$touch(),this.$v.form.$anyError||this.SearcgRecipes()},showRecentSearch:function(){try{var e=JSON.parse(sessionStorage.getItem("recentSearch"));this.value_diet=e.value_diet,this.value_cuisine=e.value_cuisine,this.value_intolerance=e.value_intolerance,this.value_sort=e.value_sort,this.value_number=e.value_number,this.$v.form.text.$model=e.text}catch(t){console.log("in catch")}}},mounted:function(){var e=sessionStorage.getItem("recentSearch");this.hasRecentSearch=null!=e},validations:{form:{text:{required:h["required"],alpha:h["alpha"]}}}},f=d,b=Object(v["a"])(f,n,r,!1,null,null,null);t["default"]=b.exports},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var n=a("1d80"),r=a("5899"),i="["+r+"]",s=RegExp("^"+i+i+"*"),l=RegExp(i+i+"*$"),c=function(e){return function(t){var a=String(n(t));return 1&e&&(a=a.replace(s,"")),2&e&&(a=a.replace(l,"")),a}};e.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(e,t,a){var n=a("861d"),r=a("d2bb");e.exports=function(e,t,a){var i,s;return r&&"function"==typeof(i=t.constructor)&&i!==a&&n(s=i.prototype)&&s!==a.prototype&&r(e,s),e}},7867:function(e,t,a){},a15b:function(e,t,a){"use strict";var n=a("23e7"),r=a("44ad"),i=a("fc6a"),s=a("a640"),l=[].join,c=r!=Object,o=s("join",",");n({target:"Array",proto:!0,forced:c||!o},{join:function(e){return l.call(i(this),void 0===e?",":e)}})},a9e3:function(e,t,a){"use strict";var n=a("83ab"),r=a("da84"),i=a("94ca"),s=a("6eeb"),l=a("5135"),c=a("c6b6"),o=a("7156"),u=a("c04e"),m=a("d039"),v=a("7c73"),p=a("241c").f,_=a("06cf").f,h=a("9bf2").f,d=a("58a8").trim,f="Number",b=r[f],g=b.prototype,S=c(v(g))==f,y=function(e){var t,a,n,r,i,s,l,c,o=u(e,!1);if("string"==typeof o&&o.length>2)if(o=d(o),t=o.charCodeAt(0),43===t||45===t){if(a=o.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(o.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+o}for(i=o.slice(2),s=i.length,l=0;l<s;l++)if(c=i.charCodeAt(l),c<48||c>r)return NaN;return parseInt(i,n)}return+o};if(i(f,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var x,I=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof I&&(S?m((function(){g.valueOf.call(a)})):c(a)!=f)?o(new b(y(t)),a,I):y(t)},R=n?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;R.length>k;k++)l(b,x=R[k])&&!l(I,x)&&h(I,x,_(b,x));I.prototype=g,g.constructor=I,s(r,f,I)}},b294:function(e,t,a){"use strict";var n=a("7867"),r=a.n(n);r.a},d81d:function(e,t,a){"use strict";var n=a("23e7"),r=a("b727").map,i=a("1dde"),s=a("ae40"),l=i("map"),c=s("map");n({target:"Array",proto:!0,forced:!l||!c},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-3dc38335.590d9c9f.js.map